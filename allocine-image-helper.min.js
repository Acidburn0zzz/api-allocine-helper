const AIH_DEFAULT_IMAGE_HOST="images.allocine.fr";const AIH_DEFAULT_IMAGE_PATH="commons/emptymedia/AffichetteAllocine.gif";var AlloImage=function(b){this.icons={"play.png":null,"overplay.png":null,"overlayVod120.png":{1:"r",2:120,3:160}};this.isDefaultImage=true;this.imageIcon=false;this.imageBorder=false;this.imageSize=false;this.imageHost=false;this.imagePath=false;if(b===undefined){this.imageHost=AIH_DEFAULT_IMAGE_HOST;this.imagePath=AIH_DEFAULT_IMAGE_PATH}else{this.isDefaultImage=false;var j=["source","scheme","authority","userInfo","user","pass","host","port","relative","path","directory","file","query","fragment"];var a=/^(?:([^:\/?#]+):)?(?:\/\/()(?:(?:()(?:([^:@]*):?([^:@]*))?@)?([^:\/?#]*)(?::(\d*))?))?()(?:(()(?:(?:[^?#\/]*\/)*)()(?:[^?#]*))(?:\?([^#]*))?(?:#(.*))?)/;var d=a.exec(b),c={},e=14;while(e--){if(d[e]){c[j[e]]=d[e]}}this.imageHost=(c.host!==undefined)?c.host:AIH_DEFAULT_IMAGE_HOST;this.imagePath=(c.path!==undefined)?c.path:AIH_DEFAULT_IMAGE_PATH}var g=this.imagePath.split("/");if(g[0]===""){g[0]=undefined}this.imagePath="";for(iPathPart in g){if(g[iPathPart]!==undefined){var h=g[iPathPart];var f=false;if(h.indexOf("o",0)===0&&(f=h.match(/^o_(.+)_(.+)_(.+)/i))!=undefined){this.icon(f[3],f[2],f[1])}else{if(h.indexOf("b",0)===0&&(f=h.match(/^b[xy]?_([0-9]+)_([0-9a-f]{6}|.*)/i))!=undefined){if(f[2].search(/^[0-9a-f]{6}$/i)===-1){f[2]="000000"}this.border(f[1],f[2])}else{if(h.indexOf("r",0)===0&&(f=h.match(/^r[xy]?_([0-9]+|[a-z0-9]+)_([0-9]+|[a-z0-9]+)/i))!=undefined){this.resize(f[1],f[2])}else{if(h.indexOf("c",0)===0&&(f=h.match(/^c[xy]?_([0-9]+|[a-z0-9]+)_([0-9]+|[a-z0-9]+)/i))!=undefined){this.cut(f[1],f[2])}else{this.imagePath+=((this.imagePath==="")?"":"/")+g[iPathPart]}}}}}}this.icon=function(i,l,k){i=(i===undefined)?"c":i;l=(l===undefined)?4:l;k=(k===undefined)?"play.png":k;if(this.icons[k]!=undefined){var m=this.icons[k];switch(m[0]){case"r":this.resize(m[1],m[2]);break;case"c":this.cut(m[1],m[2]);break}}this.imageIcon={position:i.substring(0,2),margin:l,icon:k};return this};this.getIcon=function(){return this.imageIcon};this.destroyIcon=function(){this.imageIcon=false;return this};this.border=function(k,i){k=(k===undefined)?1:k;i=(i===undefined)?"000000":i;this.imageBorder={size:k,color:i};return this};this.getBorder=function(){return this.imageBorder};this.destroyBorder=function(){this.imageBorder=false;return this};this.reset=function(){this.destroyBorder().destroyIcon().maxSize();return this};this.resize=function(k,i){k=(k===undefined)?"x":k;i=(i===undefined)?"y":i;this.imageSize={method:"r",xmax:k,ymax:i};return this};this.cut=function(k,i){this.imageSize={method:"c",xmax:k,ymax:i};return this};this.getSize=function(){return this.imageSize};this.maxSize=function(){this.imageSize=false;return this};this.getImageHost=function(){return this.imageHost};this.setImageHost=function(i){switch(i){case"default":case"de":case"filmstarts.de":case"es":case"sensacine.com":case"fr":case"allocine.fr":case"en":case"screenrush.co.uk":this.imageHost=this.imagesUrl;break;default:this.imageHost=i}return this};this.url=function(){var i=new Array();if(this.imageSize!==false){i[0]=this.imageSize.method+"_"+this.imageSize.xmax+"_"+this.imageSize.ymax}if(this.imageBorder!==false){i[1]="b_"+this.imageBorder.size+"_"+this.imageBorder.color}if(this.imageIcon!==false){i[2]="o_"+this.imageIcon.icon+"_"+this.imageIcon.margin+"_"+this.imageIcon.position}return"http://"+this.imageHost+(i.length?"/"+i.join("/"):"")+"/"+this.imagePath}};